---
import CallToAction from "~/components/widgets/CallToAction.astro";
import Content from "~/components/widgets/Content.astro";
import Features2 from "~/components/widgets/Features2.astro";
import Hero from "~/components/widgets/Hero.astro";
import Layout from "~/layouts/PageLayout.astro";
import Note from "~/components/widgets/Note.astro";
import GradientText from "~/components/ui/GradientText.astro";
import { getLangFromUrl, useTranslations } from "~/i18n/utils";
import Steps2 from "~/components/widgets/Steps2.astro";
import { YouTube } from "astro-embed";
import Lyrics from "~/components/widgets/Lyrics.astro";

const metadata = {
  title: "Events",
};

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const songs = [
  {
    title: t("events.lyrics.song1.title"),
    verses: [t("events.lyrics.song1.verse1"), t("events.lyrics.song1.verse2")],
  },
  {
    title: t("events.lyrics.song2.title"),
    verses: [
      t("events.lyrics.song2.verse1"),
      t("events.lyrics.song2.verse2"),
      t("events.lyrics.song2.verse3"),
      t("events.lyrics.song2.verse4"),
    ],
    chorus: t("events.lyrics.song2.chorus"),
  },
  {
    title: t("events.lyrics.song3.title"),
    verses: [t("events.lyrics.song3.verse1")],
  },
  {
    title: t("events.lyrics.song4.title"),
    verses: [t("events.lyrics.song4.verse1")],
    chorus: t("events.lyrics.song4.chorus"),
  },
  {
    title: t("events.lyrics.song5.title"),
    verses: [t("events.lyrics.song5.verse1")],
  },
];
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->
  <Hero tagline={t("events.hero.tagline")}>
    <Fragment slot="title">
      <GradientText isHeading={true} text={t("events.hero.title.span1")} />
      {t("events.hero.title1")}{" "}
      <GradientText isHeading={true} text={t("events.hero.title.span2")} />
    </Fragment>
    <Fragment slot="subtitle">
      {t("events.hero.subtitle1")}
      <GradientText class="font-bold" text={t("events.hero.subtitle.span")} />{t("events.hero.subtitle2")}
    </Fragment>
  </Hero>

  <!-- Note Widget ******************* -->

  <Note title={t("events.note.title")} subtitle={t("events.note.subtitle")} />

  <Lyrics id="songs" songs={songs} title={t("events.lyrics.title")}>
    <Fragment slot="subtitle">
      {t("events.lyrics.subtitle")}<a
        class="text-blue-600 dark:text-blue-600 hover:underline"
        href="https://www.rukouksenseurakunta.fi/#tapahtumat"
        target="_blank"
      >
        https://www.rukouksenseurakunta.fi/
      </a>
    </Fragment>
  </Lyrics>

  <!-- Features2 Widget ************** -->

  <Features2
    title={t("events.features.title")}
    subtitle={t("events.features.subtitle")}
    columns={3}
    items={[
      {
        title: t("events.features.items1.title"),
        description: t("events.features.items1.description"),
        description2: {
          text: t("events.features.items1.description2"),
          link: "https://flamethefreeze.zoom.us/j/89840579351?pwd=Hr5ZAcJHbUVrybCIIySL6sT6Vw7Rly.1",
        },
        icon: "tabler:book",
      },
      {
        title: t("events.features.items2.title"),
        description: t("events.features.items2.description"),
        description2: {
          text: t("events.features.items2.description2"),
          link: "https://flamethefreeze.zoom.us/j/82297139976?pwd=2ZCDgn6UVPyuqKeKsh8CWBN3IQhiXu.1",
        },
        icon: "tabler:pray",
      },
      {
        title: t("events.features.items3.title"),
        description: t("events.features.items3.description"),
        description2: {
          text: t("events.features.items3.description2"),
        },
        icon: "tabler:friends",
      },
      {
        title: t("events.features.items4.title"),
        description: t("events.features.items4.description"),
        description2: {
          text: t("events.features.items4.description2"),
        },
        icon: "tabler:speakerphone",
      },
      {
        title: t("events.features.items5.title"),
        description: t("events.features.items5.description"),
        description2: {
          text: t("events.features.items5.description2"),
        },
        icon: "tabler:school",
      },
    ]}
  />

  <Content tagline={t("events.hero2.tagline")} isReversed>
    <Fragment slot="content">
      <h3 class="text-xl sm:text-2xl xl:text-[24px] xl:leading-[32px] tracking-tight mb-2 xl:mb-[8px]">
        <span class="font-semibold text-black dark:text-white">{t("events.content.subtitle")}</span>
        <p class="text-lg sm:text-xl xl:text-[20px] xl:leading-[28px]">
          <GradientText class="font-semibold" style2>
            "{t("events.content.subtitle1")}"
          </GradientText>
          <br />
          <br />
          <span class="text-black dark:text-white">
            {t("events.content.subtitle2")}
          </span>
        </p>
      </h3>
    </Fragment>

    <Fragment slot="image">
      <div class="relative">
        <YouTube id="BF3abMvyBLQ" title="Ari raised from the dead after setting himself on fire" poster="" />
      </div>
    </Fragment>
  </Content>

  <Content>
    <Fragment slot="content">
      <h3 class="text-xl sm:text-2xl xl:text-[24px] xl:leading-[32px] tracking-tight mb-2 xl:mb-[8px]">
        <span class="font-semibold text-black dark:text-white">{t("index.content4.subtitle")}</span>
        <p class="text-lg sm:text-xl xl:text-[20px] xl:leading-[28px]">
          <GradientText class="font-semibold" style2>
            "{t("index.content4.subtitle1")}"
          </GradientText>
          <br />
          <br />
          <span class="text-black dark:text-white">
            {t("index.content4.subtitle2")}
          </span>
        </p>
      </h3>
    </Fragment>

    <Fragment slot="image">
      <div class="relative">
        <YouTube id="g_y65xR5OYE" title="Excerpt from Jesus Fest Kuopio" />
      </div>
    </Fragment>
  </Content>

  <!-- Text section -->

  <div class="w-full flex flex-col items-center px-10 xl:px-[40px]">
    <div class="my-40 xl:my-[160px] h-[1px] bg-neutral-400 w-full"></div>
  </div>

  <!-- Steps2 Widget ****************** -->

  <Steps2
    title={t("events.steps2.title")}
    subtitle={t("events.steps2.subtitle")}
    type2={true}
    items={[
      {
        title: t("events.steps2.items1.title"),
        description: t("events.steps2.items1.description"),
        icon: "tabler:mail",
      },
      {
        title: t("events.steps2.items2.title"),
        description: t("events.steps2.items2.description"),
        icon: "tabler:headset",
      },
      {
        title: t("events.steps2.items3.title"),
        description: t("events.steps2.items3.description"),
        icon: "tabler:brand-youtube",
        link: true,
      },
    ]}
  />

  <!-- Text section -->

  <div class="w-full flex flex-col items-center px-10 xl:px-[40px]">
    <div class="my-40 xl:my-[160px] h-[1px] bg-neutral-400 w-full"></div>
  </div>

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: "primary",
        text: t("events.callToAction.actionText"),
        href: "https://www.youtube.com/@flamethefreeze2613/videos",
        icon: "tabler:brand-youtube",
      },
    ]}
    title={t("events.callToAction.title")}
  >
    <Fragment slot="subtitle">
      {t("events.callToAction.subtitle1")}
      <GradientText class="font-bold" text={t("events.callToAction.subtitle.span1")} />{
        t("events.callToAction.subtitle2")
      }
      <GradientText class="font-bold" text={t("events.callToAction.subtitle.span2")} />
      {t("events.callToAction.subtitle3")}
    </Fragment>
  </CallToAction>
</Layout>

<style lang="css">
  .anchor-link {
    visibility: hidden;
  }

  a {
    color: hsl(var(--colour-text-hue) var(--colour-text-saturation) var(--colour-text-luminance));
    text-decoration: none;
  }

  [astro-icon] {
    display: inline;
    width: var(--font-size-5);
    vertical-align: middle;
  }

  .container:focus .anchor-link,
  .container:hover .anchor-link {
    visibility: visible;
  }
</style>
