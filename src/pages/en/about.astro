---
import Layout from "~/layouts/PageLayout.astro";
import Content from "~/components/widgets/Content.astro";
import Hero from "~/components/widgets/Hero.astro";
import Steps from "~/components/widgets/Steps.astro";
import Features from "~/components/widgets/Features.astro";
import Testimonials from "~/components/widgets/Testimonials.astro";
import GradientText from "~/components/ui/GradientText.astro";
import { getLangFromUrl, useTranslations } from "~/i18n/utils";
import WidgetWrapper2 from "~/components/ui/WidgetWrapper2.astro";
import { twMerge } from "tailwind-merge";

const metadata = {
  title: "About us",
};

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout metadata={metadata}>
  <!-- HeroText Widget ******************* -->

  <Hero
    tagline={t("about.herotext.tagline")}
    image={{
      src: "https://lh3.googleusercontent.com/d/1luRwVZ-_9Yt3q6bzTG5FVOWQ-05gyBv6",
      alt: "Man rejecting all the temptations offered to him",
    }}
  >
    <Fragment slot="title">
      {t("about.herotext.title1")}
      <GradientText isHeading={true} text={t("about.herotext.title.span")} />
      {t("about.herotext.title2")}
    </Fragment>

    <Fragment slot="subtitle">
      {t("about.herotext.subtitle1")}
      <span class="font-semibold">{t("about.herotext.subtitle.span1")}</span>
      {t("about.herotext.subtitle2")}
      <span class="font-semibold">{t("about.herotext.subtitle.span2")}</span>
      {t("about.herotext.subtitle3")}
      <!-- <GradientText class="font-bold" text={t("about.herotext.subtitle.span3")} /> -->
    </Fragment>
  </Hero>

  <!-- Steps Widget ****************** -->

  <Steps
    title={t("about.steps.title")}
    image={{
      src: "https://media.istockphoto.com/id/1355850109/vector/abrahams-sacrifice-of-isaac-wood-engraving-published-1862.jpg?s=612x612&w=0&k=20&c=Q9eO4nRfCcbaMGAeqGPdeq9CYg4B55HaXQDByaKJYcM=",
      alt: "Image of Abraham sacrificing Isaac",
    }}
    items={[
      {
        title: t("about.steps.items1.title"),
        description: [
          {
            text: t("about.steps.items1.description1"),
          },
        ],
        icon: "tabler:number-1",
      },
      {
        title: t("about.steps.items2.title"),
        description: [
          {
            text: t("about.steps.items2.description1"),
          },
        ],
        icon: "tabler:number-2",
      },
      {
        title: t("about.steps.items3.title"),
        description: [
          {
            text: t("about.steps.items3.description1"),
          },
        ],
        icon: "tabler:number-3",
      },
      {
        title: t("about.steps.items4.title"),
        description: [
          {
            text: t("about.steps.items4.description1"),
          },
        ],
        icon: "tabler:number-4",
      },
      {
        title: t("about.steps.items5.title"),
        description: [
          {
            text: t("about.steps.items5.description1"),
          },
        ],
        icon: "tabler:number-5",
      },
      {
        title: t("about.steps.items6.title"),
        description: [
          {
            text: t("about.steps.items6.description1"),
          },
        ],
        icon: "tabler:number-6",
      },
      {
        title: t("about.steps.items7.title"),
        description: [
          {
            text: t("about.steps.items7.description1"),
          },
        ],
        icon: "tabler:number-7",
      },
    ]}
  />

  <!-- Features Widget *************** -->

  <!-- <Features>
    <Fragment slot="title">
      {t("about.features2.title1")}
      <GradientText class="font-bold" text={t("about.features2.title.span")} />{t("about.features2.title2")}
      <GradientText class="font-bold" text={t("about.features2.title.span")} />{t("about.features2.title3")}
    </Fragment>
  </Features> -->
  <WidgetWrapper2>
    <div class={twMerge("mb-8 md:mx-auto md:mb-12 text-center")}>
      <h2 class={twMerge("font-bold leading-tighter tracking-tighter font-heading text-heading text-3xl md:text-4xl ")}>
        {t("about.features2.title1")}
        <GradientText class="font-bold" text={t("about.features2.title.span")} />{t("about.features2.title2")}
        <GradientText class="font-bold" text={t("about.features2.title.span")} />{t("about.features2.title3")}
      </h2>
    </div>
  </WidgetWrapper2>

  <!-- Text section -->

  <div class="w-full flex flex-col items-center px-10">
    <div class="heart"></div>
    <div class="h-20"></div>
    <GradientText class="font-bold text-6xl sm:text-8xl md:text-9xl flex" text={t("about.h2")} />
    <div class="my-40 h-[1px] bg-neutral-400 w-full"></div>
  </div>

  <!-- Content Widget **************** -->

  <Content
    classes={{
      headline: "lg:max-w-4xl",
    }}
    isAfterContent
    whiteText={true}
    image={{
      src: "https://lh3.googleusercontent.com/d/1wel6WDU54_pAyaqRB7YAaJZWkkou76Vs",
      alt: "Image of Andrew and Juhani",
    }}
  >
    <Fragment slot="title">
      <p class="dark:text-white text-black">
        {t("about.content.title1")}
      </p>
      <p
        class="font-signature dark:text-white text-black text-5xl md:text-8xl font-bold leading-tighter tracking-tighter py-4"
      >
        {t("about.content.title2")}
      </p>
    </Fragment>
    <Fragment slot="subtitle">
      <p class="dark:text-white text-black">
        {t("about.content.subtitle")}
      </p>
    </Fragment>
    <Fragment slot="content">
      <h3 class="text-xl tracking-tight sm:text-2xl mb-2">
        {t("about.content.content")}
      </h3>
    </Fragment>
  </Content>

  <!-- Testimonials Widget *********** -->

  <Testimonials
    columns={3}
    testimonials={[
      {
        testimonials: [t("about.testimonials.items1.t1")],
        name: t("about.testimonials.items1.name"),
      },
      {
        testimonials: [t("about.testimonials.items2.t1")],
        name: t("about.testimonials.items2.name"),
      },
      {
        testimonials: [t("about.testimonials.items3.t1")],
        name: t("about.testimonials.items3.name"),
      },
      {
        testimonials: [t("about.testimonials.items4.t1")],
        name: t("about.testimonials.items4.name"),
      },
      {
        testimonials: [t("about.testimonials.items5.t1")],
        name: t("about.testimonials.items5.name"),
      },
      {
        testimonials: [t("about.testimonials.items6.t1")],
        name: t("about.testimonials.items6.name"),
      },
    ]}
  />

  <!-- Features Widget *************** -->

  <Features>
    <Fragment slot="title">
      <span class="text-black dark:text-muted">{t("about.features.title")}</span>
    </Fragment>
  </Features>

  <!-- <section class="bg-secondary dark:bg-purple-900/40 not-prose">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-4 text-md text-center font-medium">
      <span class="font-bold text-white">
        <Icon name="tabler:info-square" class="w-5 h-5 inline-block align-text-bottom text-white" />
        {t("about.note.text1")}
      </span>
      <span class="text-white">
        {t("about.note.text2")}
      </span>
    </div>
  </section> -->

  <style>
    .heart {
      width: 80px;
      height: 80px;
      background-color: red;
      position: relative;
      transform: rotate(45deg);
      box-shadow:
        0 2.8px 2.2px rgba(0, 0, 0, 0.034),
        0 6.7px 5.3px rgba(0, 0, 0, 0.048),
        0 12.5px 10px rgba(0, 0, 0, 0.06),
        0 22.3px 17.9px rgba(0, 0, 0, 0.072);
      animation: hbeat 1s linear infinite;
    }

    .heart::before {
      content: "";
      width: 100%;
      height: 100%;
      background-color: red;
      position: absolute;
      border-radius: 50%;
      transform: translateY(-50%);
    }
    .heart::after {
      content: "";
      width: 100%;
      height: 100%;
      background-color: red;
      position: absolute;
      border-radius: 50%;
      transform: translateX(-50%);
    }

    @keyframes hbeat {
      0% {
        transform: rotate(45deg) scale(1);
      }
      20% {
        transform: rotate(45deg) scale(1);
      }
      40% {
        transform: rotate(45deg) scale(1.4);
      }
      60% {
        transform: rotate(45deg) scale(1.2);
      }
      80% {
        transform: rotate(45deg) scale(1.4);
      }
      100% {
        transform: rotate(45deg) scale(1);
      }
    }
  </style>
</Layout>
