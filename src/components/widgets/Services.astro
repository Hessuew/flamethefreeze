---
import Headline from "~/components/ui/Headline.astro";
import WidgetWrapper from "~/components/ui/WidgetWrapper.astro";
import { Icon } from "astro-icon/components";
import type { Services as Props } from "~/types";

const {
  title = await Astro.slots.render("title"),
  subtitle = await Astro.slots.render("subtitle"),
  tagline = await Astro.slots.render("tagline"),
  services = [],
  id,
  isDark = false,
  classes = {},
  bg = await Astro.slots.render("bg"),
} = Astro.props;
---

<WidgetWrapper
  id={id}
  isDark={isDark}
  containerClass={`max-w-6xl xl:max-w-[1200px] ${classes?.container ?? ""}`}
  bg={bg}
>
  <Headline
    headlineType={3}
    title={title}
    subtitle={subtitle}
    tagline={tagline}
    classes={classes?.headline as Record<string, string>}
  />

  <div class="grid gap-8 md:gap-12 xl:gap-[48px] sm:grid-cols-2 lg:grid-cols-3 mt-12 xl:mt-[48px]">
    {
      services.map((service) => (
        <div class="group relative bg-white dark:bg-slate-800 rounded-xl xl:rounded-[12px] p-6 xl:p-[24px] shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-slate-700 hover:border-primary/20 dark:hover:border-primary/30">
          <div class="flex items-center justify-center w-16 h-16 xl:w-[64px] xl:h-[64px] bg-gradient-to-br from-primary to-secondary rounded-lg xl:rounded-[8px] mb-6 xl:mb-[24px] group-hover:scale-110 transition-transform duration-300">
            <Icon name={service.icon} class="w-8 h-8 xl:w-[32px] xl:h-[32px] text-white" />
          </div>

          <h3 class="text-xl xl:text-[20px] xl:leading-[28px] font-bold text-gray-900 dark:text-white mb-3 xl:mb-[12px] group-hover:text-primary transition-colors duration-300">
            {service.title}
          </h3>

          <p class="text-gray-600 dark:text-slate-300 text-base xl:text-[16px] xl:leading-[24px] mb-4 xl:mb-[16px]">
            {service.description}
          </p>

          {service.features && (
            <ul class="space-y-2 xl:space-y-[8px]">
              {service.features.map((feature) => (
                <li class="flex items-center text-sm xl:text-[14px] xl:leading-[20px] text-gray-500 dark:text-slate-400">
                  <Icon
                    name="tabler:check"
                    class="w-4 h-4 xl:w-[16px] xl:h-[16px] text-primary mr-2 xl:mr-[8px] flex-shrink-0"
                  />
                  {feature}
                </li>
              ))}
            </ul>
          )}
        </div>
      ))
    }
  </div>
</WidgetWrapper>
