---
import { twMerge } from "tailwind-merge";
import { changeLangInUrl } from "~/navigation";

const { lang = "en" } = Astro.props;

const currentPath = Astro.url.pathname;
---

<div class="flex items-center gap-1">
  {/* English */}
  {
    lang !== "en" ? (
      <a
        href={changeLangInUrl(currentPath, "en")}
        class={twMerge(
          "p-2.5 rounded-lg transition-all duration-300 ease-in-out",
          "focus:outline-none focus:scale-110",
          "cursor-default",

          "opacity-60 hover:opacity-100"
        )}
        aria-current="page"
        aria-label="English"
      >
        <span class="text-2xl">ğŸ‡ºğŸ‡¸</span>
      </a>
    ) : (
      <div class={twMerge("p-2.5 rounded-lg")}>
        <span class="text-2xl">ğŸ‡ºğŸ‡¸</span>
      </div>
    )
  }

  {/* Finnish */}
  {
    lang !== "fi" ? (
      <a
        href={changeLangInUrl(currentPath, "fi")}
        class={twMerge(
          "p-2.5 rounded-lg transition-all duration-300 ease-in-out",
          "focus:outline-none focus:scale-110",
          "cursor-default",
          "opacity-60 hover:opacity-100"
        )}
        aria-current="page"
        aria-label="Finnish"
      >
        <span class="text-2xl">ğŸ‡«ğŸ‡®</span>
      </a>
    ) : (
      <div class={twMerge("p-2.5 rounded-lg")}>
        <span class="text-2xl">ğŸ‡«ğŸ‡®</span>
      </div>
    )
  }
</div>
